<main class="main-content" [appWindowScroll]>
  <section class="section bg-gray">
    <div class="container">
      <div class="row search-container">
        <div class="col-12">
          <ais-instantsearch [config]="algoliaSearchConfig" *ngIf="!rendering">

            <ais-search-box #search class="search-box" (change)="algoliaSearchChanged($event)"></ais-search-box>
            <div class="row mt-25 mb-15" style="z-index: 150; position: relative;">
              <div class="col-9">
                <div class="row">
                  <div class="col-md-6 col-12">
                    <button id="category-btn" (click)="toggleOverlay('category-menu','hours-menu', 'category-btn')"
                      class="btn btn-primary filter-btn btn-outline">
                      CATEGORY
                    </button>
                    <button id="hourly-btn" class="btn btn-primary filter-btn btn-outline" (click)="toggleOverlay('hours-menu', 'category-menu', 'hourly-btn')">
                      HOURLY RATE
                    </button>
                  </div>
                  <ais-toggle label="Only show providers within my timezone" attribute="timezone" [values]="{
                    on: currentUser.timezone,
                    off: ''
                  }">
                  </ais-toggle>
                  <!--
                  <div class="col-md-6 col-12">
                    <input type="checkbox" [checked]="inMyTimezone" (change)="inMyTimezone = !inMyTimezone" id="filter-timezone"
                      class="filter-timezone ml-5"><span class="fs-12 ml-5">Ony
                      show providers within my timezone</span>
                  </div>
                  -->
                </div>
                <div class="menu-options hide-menu" id="category-menu">
                  <ais-refinement-list attribute="category"></ais-refinement-list>
                </div>
                <div class="menu-options  hide-menu" id="hours-menu">
                  <div class="row">
                    <ais-range-input attribute="hourlyRate" [min]="minValue" [max]="maxValue" [precision]="0" style="margin: 0 auto">
                    </ais-range-input>
                  </div>

                  <!--  
                    <div class="row">
                    <ng5-slider [(value)]="minValue" [(highValue)]="maxValue" [options]="options" style="width:300px; margin: 0 auto; margin-top: 35px;"></ng5-slider>
                    </div>

                  <div class="row px-20 option-row">
                    <div class="col-6">
                      <p class="fw-700 ls-2  fs-10" (click)="onResetHourlyRate()">RESET</p>
                    </div>
                    <div class="col-6 text-right">
                      <p class="fw-700 ls-2 fs-10" (click)="onSetHourlyRate()">APPLY</p>
                    </div>
                  </div>

                  -->
                </div>
              </div>
              <div class="col-3 text-right no-padding">
                <button class="card-size-btn" (click)="setSmallCards(false)">
                  <img *ngIf="!smallCards" src="assets/img/Long-selected.svg">
                  <img *ngIf="smallCards" src="assets/img/Long-unselected.svg">
                </button>
                <button class="card-size-btn" (click)="setSmallCards(true)">
                  <img *ngIf="smallCards" src="assets/img/Short-selected.svg">
                  <img *ngIf="!smallCards" src="assets/img/Short-unselected.svg">
                </button>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <ais-hits>
                  <ng-template let-hits="hits">
                    <div *ngIf="hits.length <= 0 && !loading" class="row text-center">
                      <h4 class="center-h mb-50">We couldn't find what you were looking for!</h4>
                    </div>
                    <div class="row no-padding">
                      <div *ngFor="let provider of hits" class="col-xl-4 col-lg-4 col-md-6 col-sm-12 no-padding my-5 ">
                        <app-provider-card *ngIf="smallCards" [size]="'sm'" [provider]="provider"></app-provider-card>
                        <app-provider-card *ngIf="!smallCards" [size]="'lg'" [provider]="provider"></app-provider-card>
                      </div>
                    </div>
                  </ng-template>
                </ais-hits>

                <ais-pagination></ais-pagination>
              </div>
            </div>
          </ais-instantsearch>
          <div *ngIf="loading || rendering" class="container d-flex h-100 flex-column justify-content-center">
            <img src="assets/img/loader.svg" height="36px" alt="Loader">
          </div>
        </div>
      </div>
    </div>
  </section>
  <app-blog-posts></app-blog-posts>
  <app-feedback></app-feedback>
</main>
<app-scroll-top></app-scroll-top>
