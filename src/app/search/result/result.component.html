<section>
  <div class="flex justify-between items-center">
    <div
      *ngIf="noSearchParams === false && isLoading === false"
      class="text-G700 text-h6 font-medium"
    >
      {{ profileCards.length }} freelancer<span
        *ngIf="profileCards.length !== 1"
        >s</span
      >
    </div>
    <div *ngIf="isLoading === true" class="text-G700 text-h6 font-medium">
      Searching for freelancers
    </div>
    <div
      *ngIf="noSearchParams === true && isLoading === false"
      class="text-G700 text-h6 font-medium"
    >
      Please add some search param
    </div>
    <switch-grid-list-button
      [isGrid]="isGrid"
      (gridChanged)="handleGridChange($event)"
    />
  </div>
  <div
    class="pt-[23px] grid gap-[20px]"
    [ngClass]="{
      'sm:grid-cols-2 lg:grid-cols-3':
        (isGrid && profileCards.length !== 0) ||
        (isGrid && isLoading) ||
        (isGrid && noSearchParams)
    }"
  >
    <ng-container
      *ngIf="
        isLoading === true || noSearchParams === true;
        then loadingView;
        else resultView
      "
    ></ng-container>
    <ng-template #loadingView>
      <ng-container *ngFor="let card of skCards" class="w-full">
        <sk-profile-card [isGrid]="isGrid" />
      </ng-container>
    </ng-template>
    <ng-template #resultView>
      <ng-container
        *ngIf="profileCards.length === 0; then emptyView; else profilesView"
      ></ng-container>

      <ng-template #emptyView>
        <div class="w-full flex flex-col items-center gap-[24px]">
          <img
            src="/assets/massimo/images/noSearchResult.png"
            alt="No Results Found"
            draggable="false"
            class="max-w-[500px] w-full"
          />
          <div class="flex flex-col gap-[] items-center justify-center">
            <div class="text-h5 text-G800 font-medium">No Result Found</div>
            <div class="text-b1 text-G700 text-center">
              We are unable to find result matching your search input.<br />
              See top freelancers to continue.
            </div>
          </div>
          <div class="w-max">
            <basic-button [type]="1" title="See top freelancers" />
          </div>
        </div>
      </ng-template>

      <ng-template #profilesView>
        <ng-container *ngFor="let profile of profileCards" class="w-full">
          <profile-card
            [index]="profile.id"
            [avatarUri]="profile.avatarUri"
            [name]="profile.name"
            [title]="profile.title"
            [isVerified]="profile.verified"
            [rating]="profile.rating"
            [skillTags]="profile.skillTags"
            [slug]="profile.slug"
            [address]="profile.address"
            [timezone]="profile.timezone"
            [hourlyRate]="profile.hourlyRate"
            [isGrid]="isGrid"
          />
        </ng-container>
      </ng-template>
    </ng-template>
  </div>
  <div class="pt-[24px] flex justify-center">
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="first"
      [rows]="rows"
      [totalRecords]="120"
      [pageLinkSize]="8"
    ></p-paginator>
  </div>
</section>
