<main>
  <section class="section bg-gray">
    <div class="container text-center">
      <h2>Select how you would like to unlock</h2>
      <div class="row">
        <div class="col-12 col-md-4">
          <ul class="tabs">
            <li
              (click)="selected = WalletApp.WalletConnect"
              [class.active]="isActive(WalletApp.WalletConnect)"
            >
              WalletConnect
            </li>
            <li
              (click)="selected = WalletApp.Ledger"
              [class.active]="isActive(WalletApp.Ledger)"
            >
              Ledger Device
            </li>
            <li
              (click)="selected = WalletApp.Keystore"
              [class.active]="isActive(WalletApp.Keystore)"
            >
              Keystore File
            </li>
            <li
              (click)="selected = WalletApp.Mnemonic"
              [class.active]="isActive(WalletApp.Mnemonic)"
            >
              Mnemonic Phrase
            </li>
          </ul>
        </div>
        <div class="col-12 col-md-8 text-left" [ngSwitch]="selected">
          <div *ngSwitchCase="WalletApp.WalletConnect">
            Click to scan a QR code and link your mobile wallet using
            WalletConnect.
            <br />
            <img
              style="cursor: pointer"
              alt="WallectConnect"
              src="assets/svg/qr-code.svg"
              (click)="connect(WalletApp.WalletConnect)"
            />
          </div>
          <div *ngSwitchCase="WalletApp.Ledger">
            Connect your Ledger device
          </div>
          <div *ngSwitchCase="WalletApp.Keystore">
            <div class="mb-10">
              Select your keystore file
            </div>
            <div class="mb-30">
              <label for="file-upload" class="btn btn-primary">
                Upload keystore file
              </label>
              <i *ngIf="validKeystoreUploaded" class="fa fa-check-circle keystore-check"></i>
              <input id="file-upload" type="file" hidden (change)="uploadFile($event)" />
              <div class="keystore-error">
                {{ keystoreError }}
              </div>
            </div>
            <div class="mb-10">
              <input [(ngModel)]="keystorePassword" type="password" (ngModelChange)="resetUnlocking()" placeholder="Enter wallet password" class="keystore-password">
            </div>
            <div *ngIf="unlockingFailed" class="keystore-error">
                Unlocking failed
            </div>
            <div>
              <button (click)="unlockKeystore()" [disabled]="!validKeystoreUploaded || !keystorePassword" class="btn btn-primary keystore-unlock">
                Unlock wallet now
              </button>
            </div>
          </div>
          <div *ngSwitchCase="WalletApp.Mnemonic">
            Recover your Keystore file instead, since it is password protected.
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
